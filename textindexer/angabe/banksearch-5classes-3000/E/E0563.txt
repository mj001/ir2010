
	Listing 1
	
 	
	
	
	
 
	
 
	 
	
	
	
	 
	
	
 
	
 
	 
	
	
	
	 
	 
	
 
	
	
	 
	
	
	
	Listing 1: The Foundation. This is the declaration for CTextDlg. The interface used to control the screens is established here. Note that the constructor is protected, since CTextDlg cannot be instantiated alone. CreateDlg() is declared static to make object construction easy.
 
	
	
	
 
#if _MSC_VER > 1000
#pragma once
#endif // _MSC_VER > 1000
/////////////////////////////////////////////////////////////////////////////
// CTextDlg dialog
//
// Abstract base class for the New, Edit, and View dialog boxes. This class
// cannot be instantiated by itself. It must be instantiated through one of
// its derived classes (use CreateDlg()).
class CTextDlg : public CDialog
{
// ** modified code **
// Construction
private:
 // generated by Class Wizard
 CTextDlg(CWnd* pParent = NULL); // standard constructor
public:
 enum dlgType {NEW, EDIT, VIEW};	// dialog types for this example
	
 // factory method for generating dialog boxes
 static CTextDlg *CreateDlg(CTextDlg::dlgType type);
 // get text from the Edit control
 CString GetText();
 // ** interface functions **
 // set text to be displayed in the Edit control
 virtual void SetText(CString Text) = 0;
protected:
 // dialog initialization
 virtual void Setup() = 0;
 // carries out OK button action
 virtual void DoOK() = 0;
 // carries out Cancel button action
 virtual void DoCancel() = 0;
// ** generated by Class Wizard **
public:
// Dialog Data
 //{{AFX_DATA(CTextDlg)
 enum { IDD = IDD_TEXTDLG };
protected:
 CButton m_PrintBtnCtrl;
 CEdit m_EditCtrl;
 CString m_Text; // text buffer associated with edit control via.
 // Class Wizard.
 //}}AFX_DATA
// Overrides
 // ClassWizard generated virtual function overrides
 //{{AFX_VIRTUAL(CTextDlg)
 protected:
 // DDX/DDV support
 virtual void DoDataExchange(CDataExchange* pDX);
 //}}AFX_VIRTUAL
// Implementation
protected:
 // Generated message map functions
 //{{AFX_MSG(CTextDlg)
 virtual BOOL OnInitDialog();
 virtual void OnOK();
 virtual void OnCancel();
 //}}AFX_MSG
 DECLARE_MESSAGE_MAP()
};
